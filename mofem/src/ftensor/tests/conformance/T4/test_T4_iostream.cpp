#include "../../../src/FTensor.hpp"
#include "../test_for_zero.hpp"
#include "../test_ostream.hpp"

using namespace FTensor;
using namespace std;
void test_T4_iostream()
{
  test_ostream(
    Tensor4<double, 3, 3, 3, 3>(
      1., 3., 5., 7., 9., 11., 13., 15., 17., 19., 21., 23., 25., 27., 29.,
      31., 33., 35., 37., 39., 41., 43., 45., 47., 49., 51., 53., 55., 57.,
      59., 61., 63., 65., 67., 69., 71., 73., 75., 77., 79., 81., 83., 85.,
      87., 89., 91., 93., 95., 97., 99., 101., 103., 105., 107., 109., 111.,
      113., 115., 117., 119., 121., 123., 125., 127., 129., 131., 133., 135.,
      137., 139., 141., 143., 145., 147., 149., 151., 153., 155., 157., 159.,
      161.),
    "[[[[1,3,5],[7,9,11],[13,15,17]],[[19,21,23],[25,27,29],[31,33,35]],[[37,"
    "39,"
    "41],[43,45,47],[49,51,53]]],[[[55,57,59],[61,63,65],[67,69,71]],[[73,75,"
    "77]"
    ",[79,81,83],[85,87,89]],[[91,93,95],[97,99,101],[103,105,107]]],[[[109,"
    "111,"
    "113],[115,117,119],[121,123,125]],[[127,129,131],[133,135,137],[139,141,"
    "143]],[[145,147,149],[151,153,155],[157,159,161]]]]",
    "operator<<(T4<3,3,3,3>)");

  // TODO implement >> operator for Tensor4
  Tensor4<double, 3, 3, 3, 3> t4_1;
  std::stringstream ss(
    "[[[1,3,5][7,9,11][13,15,17]][[19,21,23][25,27,29][31,33,35]]"
    "[[37,39,41][43,45,47][49,51,53]]][[[55,57,59][61,63,65][67,69,71]]"
    "[[73,75,77][79,81,83][85,87,89]][[91,93,95][97,99,101][103,105,107]]]"
    "[[[109,111,113][115,117,119][121,123,125]][[127,129,131][133,135,137]["
    "139,"
    "141,143]]"
    "[[145,147,149][151,153,155][157,159,161]]]");
  /*
  ss >> t2_1;
  test_for_zero(t3_1(0,0,0,0)-1,"operator>>(T4)(0,0,0)");
  test_for_zero(t3_1(0,0,0,1)-3,"operator>>(T4)(0,0,1)");
  test_for_zero(t3_1(0,0,1,0)-5,"operator>>(T4)(0,1,0)");
  test_for_zero(t3_1(0,0,1,1)-7,"operator>>(T3)(0,1,1)");
  test_for_zero(t3_1(0,1,0,0)-9,"operator>>(T4)(1,0,0)");
  test_for_zero(t3_1(0,1,0,1)-11,"operator>>(T4)(1,0,1)");
  test_for_zero(t3_1(0,1,1,0)-13,"operator>>(T4)(1,1,0)");
  test_for_zero(t3_1(0,1,1,1)-15,"operator>>(T3)(0,0,0)");
  test_for_zero(t3_1(1,0,0,0)-17,"operator>>(T3)(0,0,1)");
  test_for_zero(t3_1(1,0,0,1)-19,"operator>>(T3)(1,1,1)");
  test_for_zero(t3_1(1,0,1,0)-21,"operator>>(T3)(0,1,0)");
  test_for_zero(t3_1(1,0,1,1)-23,"operator>>(T3)(0,1,1)");
  test_for_zero(t3_1(1,1,0,0)-25,"operator>>(T3)(1,0,0)");
  test_for_zero(t3_1(1,1,0,1)-27,"operator>>(T3)(1,0,1)");
  test_for_zero(t3_1(1,1,1,0)-29,"operator>>(T3)(1,1,0)");
  test_for_zero(t3_1(1,1,1,1)-31,"operator>>(T3)(1,1,1)");
  */
}
