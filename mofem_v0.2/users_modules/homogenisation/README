Check before run
================

* Check where is your mesh file
* Check what verion of openmpi (or other MPI library) are you using

Example run simple cube RVE for validaiton
============================================================

mpirun -np 1 ./Cube_Disp -my_file ../users_modules/homogenisation/meshes/Cube.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./Cube_Trac -my_file ../users_modules/homogenisation/meshes/Cube.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./Cube_Periodic -my_file ../users_modules/homogenisation/meshes/Cube.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0

Example run simple cube with inclusion or reinforcemnt RVE
============================================================
mpirun -np 1 ./Cube_With_Inclusion_Disp -my_file ../users_modules/homogenisation/meshes/Cube_With_Inclusion.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./Cube_With_Inclusion_Traction -my_file ../users_modules/homogenisation/meshes/Cube_With_Inclusion.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./Cube_With_Inclusion_Periodic -my_file ../users_modules/homogenisation/meshes/Cube_With_Inclusion.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0


Example run textile RVE with trans-isotropic fibres (with no interface elements)
  - first use the potential flow to calculate the fibres directions
============================================================
mpirun -np 1 ./TransIso_Potential_Flow_NoInt -my_file ../users_modules/homogenisation/meshes/TransIso_Textile.cub -ksp_type fgmres -ksp_gmres_restart 1000 -pc_type asm -sub_pc_type lu -ksp_monitor -my_order 1
mpirun -np 1 ./TransIso_Disp_NoInt -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./TransIso_Periodic_NoInt -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./TransIso_Trac_NoInt -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0

Example run textile RVE with trans-isotropic fibres (with interface elements)
  - first use the potential flow to calculate the fibres directions
============================================================
mpirun -np 1 ./TransIso_Potential_Flow -my_file ../users_modules/homogenisation/meshes/TransIso_Textile.cub -ksp_type fgmres -ksp_gmres_restart 1000 -pc_type asm -sub_pc_type lu -ksp_monitor -my_order 1
mpirun -np 1 ./TransIso_Disp -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./TransIso_Periodic -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0
mpirun -np 1 ./TransIso_Trac -my_file solution1.h5m -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0


Example run moisture transport and its computational homogenisation
============================================================
mpirun -np 1 ./MoistureTrans -my_file ../users_modules/homogenisation/meshes/Simple_moisture.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1

make && mpirun -np 1 ./MoistureTrans_Disp -my_file ../users_modules/homogenisation/meshes/Cube_moisture.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0

mpirun -np 1 ./MoistureTrans_Trac -my_file ../users_modules/homogenisation/meshes/Cube_moisture.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0

make && mpirun -np 1 ./MoistureTrans_Periodic -my_file ../users_modules/homogenisation/meshes/Cube_moisture.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0



Example Coupled Mechanical and moisture transport
==================================================================================================
1.  Staggered Approach
mpirun -np 1 ./Coupled_Mech_MoistureTrans_Staggered -my_file ../users_modules/homogenisation/meshes/Coupled_Cube_Mech_MoistureTrans.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0 -myapplied_congrad 1.0,0.0,0.0

2. Coupled analysis

mpirun -np 1 ./Coupled_Mech_MoistureTrans -my_file ../users_modules/homogenisation/meshes/Coupled_Cube_Mech_MoistureTrans.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0 -myapplied_congrad 1.0,0.0,0.0

----cube mesh
make && mpirun -np 1 ./Coupled_Mech_MoistureTrans -my_file ../users_modules/homogenisation/meshes/Coupled_Cube_Mech_MoistureTrans.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -ksp_atol 1e-10 -ksp_rtol 1e-6 -snes_monitor -snes_type newtonls -snes_linesearch_type basic -snes_max_it 4 -snes_atol 1e-8 -snes_rtol 1e-8 -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0 -myapplied_congrad 1.0,0.0,0.0

----textile RVE mesh
mpirun -np 1 ./Coupled_Mech_MoistureTrans -my_file ../users_modules/homogenisation/meshes/Textile_RVE.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -ksp_atol 1e-10 -ksp_rtol 1e-6 -snes_monitor -snes_type newtonls -snes_linesearch_type basic -snes_max_it 4 -snes_atol 1e-8 -snes_rtol 1e-8 -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0 -myapplied_congrad 0.0,1.0,0.0


Simple Darceys Flow Problem
===================================
make && mpirun -np 1 ./Darceys_Flow -my_file ../users_modules/homogenisation/meshes/Darceys_simple.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor   -my_order 1


RVE with both capillary (for fibres) and diffusion (for matrix) transport
=======================================================
make Darceys_Capillary_and_Diffusion_Flow && mpirun -np 1 ./Darceys_Capillary_and_Diffusion_Flow -my_file ../users_modules/homogenisation/meshes/Darceys_and_Diffusion.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_ConGrad 1.0,0.0,0.0 -myapplied_PressGrad 1.0,0.0,0.0


Moisture macro unsteady problem
=======================================================
make Macro_usteady_moisture && mpirun -np 1 ./Macro_usteady_moisture   -my_file ../users_modules/homogenisation/meshes/Macro_usteady_moisture.cub   -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor   -snes_type newtonls -snes_linesearch_type basic -snes_max_it 100 -snes_atol 1e-8 -snes_rtol 1e-8 -snes_monitor   -ts_monitor -ts_type beuler -ts_dt 0.0025 -ts_final_time 0.06 -snes_lag_jacobian -2  -my_order 1 -my_max_post_proc_ref_level 1


FE2 Elasticity
=======================================================
make FE2_Elasticity && mpirun -np 1 ./FE2_Elasticity -my_file_macro ../users_modules/homogenisation/meshes/LShape.cub -my_file_RVE ../users_modules/homogenisation/meshes/Cube.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1


PETSc timestepping testing
=======================================================
make PETScTesting     && mpirun -np 1 ./PETScTesting

make PETScTesting_new && mpirun -np 1 ./PETScTesting_new -snes_monitor -ts_monitor -snes_rtol 1e-12 -snes_atol 1e-8 -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -snes_converged_reason -snes_stol 0 | tee log   

//here tee log will save log file (output can be log.txt etc)
grep Sol log //grep will search file log for lines with log
grep Sol log | awk '{print $3," ",$6}' | tee gp  //save the 3rd and 6th field in file gp 


Hygro-thermo-mechanical analysis with degradaiton model
===========================================================================
make HTM_with_degradation && mpirun -np 1 ./HTM_with_degradation -my_file ../users_modules/homogenisation/meshes/HTM_Cube.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1 -myapplied_strain 1.0,0.0,0.0,0.0,0.0,0.0 -myapplied_Tgrad 1.0,0.0,0.0 -myapplied_congrad 1.0,0.0,0.0




xue 2D potential flow
=======================================================
make xue_laplacian_problem && mpirun -np 1 ./xue_laplacian_problem -my_file ../users_modules/homogenisation/meshes/Xue_my_tet_model.cub -ksp_type fgmres -pc_type lu -pc_factor_mat_solver_package superlu_dist -ksp_monitor -my_order 1


copy out put files to symlink on Desktop
-------------------------------------------------------------
cp out.vtk /mnt/home/Desktop/
cp *.vtk  /mnt/home/Desktop/


